# util Lab 實驗記錄

## 實現 sleep 系統調用

### 編寫 `sleep.c`

```c
#include "kernel/types.h"
#include "user/user.h"

int main(int argc, char* argv[]){

	if(argc < 2){
		fprintf(2,"too few argument for sleep \"system\" call!\n");
	}

	unsigned int interval = atoi(argv[1]);
	// interval *= 1000; // msec to sec
	sleep(interval);
	exit(0);
}
```

### 修改 `Makefile`

```makefile
UPROGS=\
	$U/_cat\
	$U/_echo\
	$U/_forktest\
	$U/_grep\
	$U/_init\
	$U/_kill\
	$U/_ln\
	$U/_ls\
	$U/_mkdir\
	$U/_rm\
	$U/_sh\
	$U/_stressfs\
	$U/_usertests\
	$U/_grind\
	$U/_wc\
	$U/_zombie\
	$U/_sleep\ # 增加 sleep 編譯依賴
```
